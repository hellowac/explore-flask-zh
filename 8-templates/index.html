
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.3.9">
    
    
      
        <title>模板 - 《explore flask》中文翻译</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.1d29e8d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="《explore flask》中文翻译" class="md-header__button md-logo" aria-label="《explore flask》中文翻译" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            《explore flask》中文翻译
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              模板
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="清空当前内容" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="《explore flask》中文翻译" class="md-nav__button md-logo" aria-label="《explore flask》中文翻译" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    《explore flask》中文翻译
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        README
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../cover/" class="md-nav__link">
        封面
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../1-introduction/" class="md-nav__link">
        前言
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../2-coding_conventions/" class="md-nav__link">
        代码约定
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../3-environment/" class="md-nav__link">
        环境
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../4-organizing_your_project/" class="md-nav__link">
        组织你的项目
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../5-configuration/" class="md-nav__link">
        配置
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../6-advanced_patterns_for_views_and_routing/" class="md-nav__link">
        关于视图和路由的进阶技巧
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../7-blueprints/" class="md-nav__link">
        蓝图
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          模板
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        模板
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jinja" class="md-nav__link">
    Jinja 快速入门
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    怎样组织模板
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    继承
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    创建宏
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    自定义过滤器
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    总结
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../9-static_files/" class="md-nav__link">
        静态文件
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../10-storing-data/" class="md-nav__link">
        存储
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../11-handling_forms/" class="md-nav__link">
        处理表单
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../12-handling_users/" class="md-nav__link">
        用户管理的规范
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../13-deployment/" class="md-nav__link">
        部署
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../14-conclusion/" class="md-nav__link">
        结语
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#jinja" class="md-nav__link">
    Jinja 快速入门
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    怎样组织模板
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    继承
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    创建宏
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    自定义过滤器
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    总结
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<p><img alt="模板" src="../images/templates.png" /></p>
<p>原文: <a href="http://exploreflask.com/en/latest/templates.html">http://exploreflask.com/en/latest/templates.html</a></p>
<h1 id="_1">模板</h1>
<p>尽管 Flask 并不强迫你使用某个特定的模板语言，它还是默认你会使用 Jinja。在 Flask 社区的大多数开发者使用 Jinja，并且我建议你也跟着做。有一些插件允许你用其他模板语言进行替代(比如<a href="http://pythonhosted.org/Flask-Genshi/">Flask-Genshi</a>和<a href="http://pythonhosted.org/Flask-Mako/">Flask-Mako</a>)，但除非你有充分理由（不懂 Jinja 可不是一个充分的理由！），否则请保持那个默认的选项；这样你会避免浪费很多时间来焦头烂额。</p>
<blockquote>
<p><strong>注意</strong>
几乎所有提及Jinja的资源讲的都是Jinja2。Jinja1确实曾存在过，但在这里我们不会讲到它。当你看到Jinja时，我们讨论的是这个Jinja: <a href="http://jinja.pocoo.org/">http://jinja.pocoo.org/</a></p>
</blockquote>
<h2 id="jinja">Jinja 快速入门</h2>
<p><strong>Jinja</strong> 文档在解释这门语言的语法和特性这方面做得很棒。在这里我不会啰嗦一遍，但还是会再一次向你强调下面一点：</p>
<p>{% raw %}</p>
<blockquote>
<p>Jinja有两种定界符。<code>{% ... %}</code>和<code>{{ ... }}</code>。前者用于执行像for循环或赋值等语句，后者向模板输出一个表达式的结果。
{% endraw %}</p>
<p><strong>参见</strong>： <a href="http://jinja.pocoo.org/docs/templates/#synopsis">http://jinja.pocoo.org/docs/templates/#synopsis</a></p>
</blockquote>
<h2 id="_2">怎样组织模板</h2>
<p>所以要将模板放进我们的应用的哪里呢？如果你是从头开始阅读的本文，你可能注意到了 Flask 在对待你如何组织项目结构的事情上十分随意。模板也不例外。你大概也已经注意到，总会有一个放置文件的推荐位置。记住两点。对于模板，这个最佳位置是放在包文件夹下。</p>
<pre><code>myapp/
    __init__.py
    models.py
    views/
    templates/
    static/
run.py
requirements.txt
</code></pre>
<p>让我们打开模板文件夹看看。</p>
<pre><code>templates/
    layout.html
    index.html
    about.html
    profile/
        layout.html
        index.html
 photos.html
    admin/
        layout.html
        index.html
        analytics.html
</code></pre>
<p><strong>模板</strong> 的结构平行于对应的路由的结构。对应于路由 <em>myapp.com/admin/analytics</em> 的模板是 <em>templates/admin/analytics.html</em>。这里也有一些额外的模板不会被直接渲染。<em>layout.html</em> 文件就是用于被其他模板继承的。</p>
<h2 id="_3">继承</h2>
<p>就像蝙蝠侠一样，一个组织良好的模板文件夹也离不开继承带来的好处。<strong>基础模板</strong> 通常定义了一个适用于所有的 <em>子模板</em> 的主体结构。在我们的例子里，<em>layout.html</em> 是一个基础模板，而其他的 <em>html</em> 文件都是子模板。</p>
<p>通常，你会有一个顶级的 <em>layout.html</em> 定义你的应用的主体布局，外加站点的每一个节点也有自己的一个 <em>layout.html</em>。如果再看一眼上面的文件夹结构，你会看到一个顶级的 <em>myapp/templates/layout.html</em>，以及 <em>myapp/templates/profile/layout.html</em> 和 <em>myapp/templates/admin/layout.html</em>。后两个文件继承并修改第一个文件。</p>
<p>{% raw %}
继承是通过 <code>{% extends %}</code> 和 <code>{% block %}</code> 标签实现的。在双亲模板中，你可以定义要给子模板处理的 block。
{% endraw %}</p>
<p><em>myapp/templates/layout.html</em></p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
 &lt;head&gt;
     &lt;title&gt;{% block title %}{% endblock %}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
    {% block body %}
     &lt;h1&gt;这个标题在双亲模板中定义&lt;/h1&gt;
    {% endblock %}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>在子模板中，你可以拓展双亲模板并定义 block 里面的内容。</p>
<p><em>myapp/templates/index.html</em></p>
<pre><code>{% extends &quot;layout.html&quot; %}
{% block title %}Hello world!{% endblock %}
{% block body %}
 {{ super() }}
    &lt;h2&gt;这个标题在子模板中定义&lt;/h2&gt;
{% endblock %}
</code></pre>
<p><code>super()</code> 函数让我们在子模板里加载双亲模板中这个 block 的内容。</p>
<blockquote>
<p><strong>参见</strong>
若想了解更多关于继承的内容，请移步到Jinja模板继承方面的文档。
<a href="http://jinja.pocoo.org/docs/templates/#template-inheritance">http://jinja.pocoo.org/docs/templates/#template-inheritance</a></p>
</blockquote>
<h2 id="_4">创建宏</h2>
<p>凭借将反复出现的代码片段抽象成 <strong>宏</strong>，我们可以实现 DRY 原则（Don't Repeat Yourself）。在撰写用于应用的导航功能的 HTML 时，我们可能会需要给“活跃”链接（比如，到当前页面的链接）一个不同的类。如果没有宏，我们将不得不使用一大堆 if/else 语句来从每个链接中过滤出“活跃”链接。</p>
<p>宏提供了模块化模板代码的一种方式；它们就像是函数一样。让我们看一下如何使用宏来标记活跃链接。</p>
<p>myapp/templates/layout.html</p>
<pre><code>{% from &quot;macros.html&quot; import nav_link with context %}
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
    {% block head %}
        &lt;title&gt;我的应用&lt;/title&gt;
    {% endblock %}
    &lt;/head&gt;
    &lt;body&gt;
        &lt;ul class=&quot;nav-list&quot;&gt;
            {{ nav_link('home', 'Home') }}
            {{ nav_link('about', 'About') }}
            {{ nav_link('contact', 'Get in touch') }}
        &lt;/ul&gt;
    {% block body %}
    {% endblock %}
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>现在我们调用了一个尚未定义的宏 - <code>nav_link</code> - 并传递两个参数给它：一个目标（比如目标视图的函数名）和我们想要展示的文本。</p>
<blockquote>
<p><strong>注意</strong>
你可能注意到了我们在import语句中加入了<strong>with context</strong>。Jinja的<strong>上下文(context)</strong>包括了通过<code>render_template()</code>函数传递的参数以及在我们的Python代码的Jinja环境上下文。这些变量能够被用于模板的渲染。</p>
<p>{% raw %}
一些变量是我们显式传递过去的，比如<code>render_template("index.html", color="red")</code>，但还有些变量和函数是Flask自动加入到上下文的，比如<code>request</code>，<code>g</code>和<code>session</code>。使用了<code>{% from ... import ... with context %}</code>，我们告诉Jinja让所有的变量也在宏里可用。
{% endraw %}</p>
<p><strong>参见</strong></p>
<ul>
<li>所有的全局变量都是由Flask传递给Jinja上下文的: <a href="http://flask.pocoo.org/docs/templating/#standard-context">http://flask.pocoo.org/docs/templating/#standard-context</a></li>
<li>通过上下文处理器（context processors），我们可以增加传递给Jinja上下文的变量和函数: <a href="http://flask.pocoo.org/docs/templating/#context-processors">http://flask.pocoo.org/docs/templating/#context-processors</a></li>
</ul>
</blockquote>
<p>是时候定义模板中用的 <code>nav_link</code> 宏了。</p>
<p>myapp/templates/macros.html</p>
<pre><code>{% macro nav_link(endpoint, text) %}
{% if request.endpoint.endswith(endpoint) %}
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;{{ url_for(endpoint) }}&quot;&gt;{{text}}&lt;/a&gt;&lt;/li&gt;
{% else %}
    &lt;li&gt;&lt;a href=&quot;{{ url_for(endpoint) }}&quot;&gt;{{text}}&lt;/a&gt;&lt;/li&gt;
{% endif %}
{% endmacro %}
</code></pre>
<p>现在我们已经在 <em>myapp/templates/macros.html</em> 中定义了一个宏。我们所做的，就是使用 Flask 的 <code>request</code> 对象 - 默认在 Jinja 上下文中可用 - 来检查当前路由是否是传递给 <code>nav_link</code> 的那个路由参数。如果是，我们就在目标链接指向的页面上，于是可以标记它为活跃的。</p>
<blockquote>
<p><strong>注意</strong>
<code>from x import y</code>语句中要求x是相对于y的相对路径。如果我们的模板位于<em>myapp/templates/user/blog.html</em>，我们需要使用<code>from "../macros.html" import nav_link with context</code>。</p>
</blockquote>
<h2 id="_5">自定义过滤器</h2>
<p>Jinja 过滤器是在渲染成模板之前，作用于 <code>{{ ... }}</code> 中的表达式的值的函数。</p>
<pre><code>&lt;h2&gt;{{ article.title|title }}&lt;/h2&gt;
</code></pre>
<p>在这个代码中，<code>title</code> 过滤器接受 <code>article.title</code> 并返回一个标题格式的文本，用于输出到模板中。它的语法，以及功能，皆一如 Unix 中修改程序输出的“管道”一样。</p>
<blockquote>
<p><strong>参见</strong>
除了<code>title</code>，还有许许多多别的内建的过滤器。在这里可以看到完整的列表： <a href="http://jinja.pocoo.org/docs/templates/#builtin-filters">http://jinja.pocoo.org/docs/templates/#builtin-filters</a></p>
</blockquote>
<p>我们可以自定义用于 Jinja 模板的过滤器。作为例子，我们将实现一个简单的 <code>caps</code> 过滤器来使字符串中所有的字母大写。</p>
<blockquote>
<p><strong>注意</strong>
Jinja已经有一个<code>upper</code>过滤器能实现这一点，还有一个<code>capitalize</code>过滤器能大写第一个字符并小写剩余字符。这些过滤器还能处理Unicode转换，不过我们的这个例子将只专注于阐述相关概念。</p>
</blockquote>
<p>我们将在 <em>myapp/util/filters.py</em> 中定义我们的过滤器。这个 <code>util</code> 包可以用来放置各种杂项。</p>
<p>myapp/util/filters.py</p>
<pre><code>from .. import app

@app.template_filter()
def caps(text):
    &quot;&quot;&quot;Convert a string to all caps.&quot;&quot;&quot;
    return text.uppercase()
</code></pre>
<p>在上面的代码中，通过 <code>@app.template_filter()</code> 装饰器，我们能将某个函数注册成 Jinja 过滤器。默认的过滤器名字就是函数的名字，但是通过传递一个参数给装饰器，你可以改变它：</p>
<pre><code>@app.template_filter('make_caps')
def caps(text):
    &quot;&quot;&quot;Convert a string to all caps.&quot;&quot;&quot;
    return text.uppercase()
</code></pre>
<p>现在我们可以在模板中调用<code>make_caps</code>而不是<code>caps</code>：<code>{{ "hello world!"|make_caps }}</code>。</p>
<p>为了让我们的过滤器在模板中可用，我们仅需要在顶级 <em>__init__.py</em> 中 import 它。</p>
<p>myapp/__init__.py</p>
<pre><code># 确保app已经被初始化以免导致循环import
from .util import filters
</code></pre>
<h2 id="_6">总结</h2>
<ul>
<li>使用 Jinja 作为模板语言。</li>
<li>Jinja 有两种定界符：<code>{% ... %}</code> 和 <code>{{ ... }}</code>。前者用于执行类似循环或赋值的语句，后者向模板输出表达式求值的结果。</li>
<li>模板应该放在<em>myapp/templates/</em> - 一个在应用文件夹里面的目录。</li>
<li>我建议 <em>template/</em> 文件夹的结构应该与应用 URL 结构一一对应。</li>
<li>你应该在 <em>myapp/templates</em> 以及站点的每一部分放置一个 <em>layout.html</em> 作为布局模板。后者是前者的拓展。</li>
<li>可以用模板语言写类似于函数的宏。</li>
<li>可以用 Python 代码写应用在模板中的过滤器函数。</li>
</ul>

              
            </article>
            
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="页脚" >
      
        
        <a href="../7-blueprints/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 蓝图" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一页
              </span>
              蓝图
            </div>
          </div>
        </a>
      
      
        
        <a href="../9-static_files/" class="md-footer__link md-footer__link--next" aria-label="下一页: 静态文件" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一页
              </span>
              静态文件
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\s\\-\uff0c\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version.title": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../assets/javascripts/bundle.6c7ad80a.min.js"></script>
      
    
  </body>
</html>